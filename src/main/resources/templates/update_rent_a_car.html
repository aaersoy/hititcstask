<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <link href="/webjars/bootstrap/3.3.7-1/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="/webjars/jquery/3.3.1-1/jquery.min.js"></script>
    <script src="/webjars/bootstrap/3.3.7-1/js/bootstrap.min.js"></script>
    <title>Title</title>
</head>
<body>
<form id="updateRentACarForm" method="post">

    <label>Rent A Car ID</label>
    <input id="rentACarIDText" name="rentACarID" type="text" th:value="${modelData.rentACarID}"disabled > </input><br/>
    <label>Rent A Car Adı</label>
    <input id="rentACarNameText" name="rentACarName" type="text" th:value="${modelData.rentACarName}"> <br/>

    <input class="btn-primary" type="submit" value="Güncelle"></input>
</form>

</body>
<script>
    $('#updateRentACarForm').submit(function (e) {
        e.preventDefault();

        var rentACarData = {}
        rentACarData["rentACarID"] = $("#rentACarIDText").val();
        rentACarData["rentACarName"] = $("#rentACarNameText").val();
        var regex= /[a-zA-Z]+/;
        var validRentACarName=regex.test(rentACarData["rentACarName"]);

        if(!validRentACarName){
            alert("Rent A Car adı sadece karakterlerden oluşabilir.")
        }
        else{
        $.ajax({
            type: "post",
            contentType: "application/json",
            url: "/updaterentacarpost",
            data: JSON.stringify(rentACarData),
            dataType: 'json',
            success: function (data) {

                window.location.href="/";



            },
            error: function (e) {
                window.location.href="/";
                console.log(e);
                // var json = "Ajax Hata"
                //     + e.responseText;
                // $('#feedback').html(json);


            }
        });}
    })
</script>
</html>